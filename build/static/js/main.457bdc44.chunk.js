(this["webpackJsonpalbums-and-posts"]=this["webpackJsonpalbums-and-posts"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(23),r=c.n(a),s=c(14),i=c.n(s),u=c(15),o=c.n(u),l=(c(21),c(7)),d=c(2),j=c(3),b=c.n(j),m=c(8),h=c(9),v=c(26),k=function(){var e=Object(m.a)(b.a.mark((function e(t){var c,n,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.length>1&&void 0!==a[1]?a[1]:{},e.prev=2,e.next=5,fetch("".concat("http://localhost:3000").concat(t),Object(v.a)({method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}},c));case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/posts");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/comments");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/posts/".concat(t),{method:"PATCH",body:JSON.stringify({favorite:c})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),p=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/comments",{method:"POST",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=c(0),N=Object(n.createContext)(null),y=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(h.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(1),u=Object(h.a)(i,2),o=u[0],l=u[1],d=Object(n.useState)(6),j=Object(h.a)(d,2),v=j[0],O=j[1],p=o*v,y=p-v,w=Math.ceil(r.length/v),P=r.slice(y,p);Object(n.useEffect)((function(){x().then((function(e){return s(e)}))}),[]),Object(n.useEffect)((function(e){e!==e&&C(e)}),[]),Object(n.useEffect)((function(e){e!==e&&S(e)}),[]),Object(n.useEffect)((function(e){e!==e&&f(id)}),[]);var C=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/posts?title_like=".concat(t)).then((function(e){return s(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/posts?_sort=id&_order=".concat(t)).then((function(e){return s(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T={posts:r,currentPosts:P,postsQuantityPage:v,totalPosts:w,paginate:function(e){return l(e)},currentPage:o,getSortPostsRequest:S,getSearchPostsRequest:C,setQuantityPosts:function(e){O(e)},setPosts:s,addMorePosts:function(e){var t=parseInt(e)+6;O(t)},toggleFavorite:function(e){var t=null===r||void 0===r?void 0:r.map((function(t){return t.id===e&&void 0===t.favorite||t.id===e&&!1===t.favorite?(t.favorite=!0,f(e,t.favorite)):t.id===e&&!0===t.favorite&&(t.favorite=!1,f(e,t.favorite)),t}));s(t)}};return Object(g.jsx)(N.Provider,{value:T,children:t})},w=function(){return Object(n.useContext)(N)};function P(){for(var e=w(),t=e.totalPosts,c=e.paginate,n=e.currentPage,a=[],r=1;r<=t;r++)a.push(r);var s=function(){return parseInt(n)+1<=t?parseInt(n)+1:n},i=function(){return parseInt(n)-1>=1?parseInt(n)-1:n};return Object(g.jsxs)("ul",{className:"uk-pagination uk-flex-center uk-flex-middle","uk-margin":"true",children:[Object(g.jsx)("li",{onClick:function(){return c(i)},children:Object(g.jsx)("a",{href:"#",onClick:function(e){return e.preventDefault()},children:Object(g.jsx)("span",{"uk-pagination-previous":"true"})})}),a.map((function(e){return Object(g.jsx)("li",{onClick:function(){return c(e)},className:e===n?"uk-active":"",children:e===n?Object(g.jsx)("span",{children:e}):Object(g.jsx)("a",{href:"#",onClick:function(e){return e.preventDefault()},children:e})},e)})),Object(g.jsx)("li",{onClick:function(){return c(s)},children:Object(g.jsx)("a",{href:"#",onClick:function(e){return e.preventDefault()},children:Object(g.jsx)("span",{"uk-pagination-next":"true"})})})]})}c(33);var C=function(e){var t=e.body,c=e.id,n=e.toggleFavorite,a=e.favorite;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"uk-card uk-card-default uk-margin-medium-bottom uk-light",children:[Object(g.jsx)("img",{src:"https://picsum.photos/600/400",alt:"","uk-cover":"true"}),Object(g.jsx)("canvas",{width:"600",height:"400"}),Object(g.jsx)("div",{className:"uk-overlay-primary uk-position-cover"}),Object(g.jsx)("div",{className:"uk-overlay uk-overlay-primary uk-position-bottom",children:Object(g.jsx)("p",{children:t})}),Object(g.jsx)("div",{className:"uk-position-top-right uk-overlay",children:Object(g.jsx)("a",{href:"","uk-icon":"icon: heart; ratio: 2",onClick:function(e){e.preventDefault(),n(c)},className:!0===a?"uk-icon favorite-active":"uk-icon"})})]})})};function S(){var e=w(),t=e.addMorePosts,c=e.postsQuantityPage,n=e.posts;return Object(g.jsx)("div",{className:"uk-margin",children:Object(g.jsxs)("button",{className:"uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom",onClick:function(){return t(c)},children:["Load more"," ",n<1&&Object(g.jsx)("div",{className:"uk-margin-small-left","uk-spinner":"ratio: 0.6"})]})})}c(34);var T=function(e){var t=e.title,c=e.id,n=e.toggleFavorite;return Object(g.jsx)("tbody",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t}),Object(g.jsx)("td",{className:"uk-text-right",children:Object(g.jsx)("button",{className:"uk-button",type:"button","uk-icon":"icon: close;",onClick:function(){return n(c)}})})]})})};function F(){var e=w(),t=e.posts,c=e.toggleFavorite,n=t.filter((function(e){if(!0===e.favorite)return e.favorite}));return Object(g.jsxs)("nav",{className:"uk-navbar uk-navbar-container","uk-navbar":"true",children:[Object(g.jsx)("div",{className:"uk-navbar-left",children:Object(g.jsxs)("ul",{className:"uk-navbar-nav",children:[Object(g.jsx)("li",{className:"/Postsgrid"===location.pathname?"uk-active":"",children:Object(g.jsx)("a",{href:"Postsgrid",children:"Posts"})}),Object(g.jsx)("li",{className:"/Albums"===location.pathname?"uk-active":"",children:Object(g.jsx)("a",{href:"Albums",children:"Albums"})})]})}),Object(g.jsx)("div",{className:"uk-navbar-right",children:Object(g.jsxs)("div",{className:"uk-navbar-item",children:[Object(g.jsx)("button",{className:n.length?"uk-button favorite-active":"uk-button",type:"button","uk-icon":"icon: heart; ratio: 2"}),Object(g.jsx)("div",{className:"uk-width-large","uk-dropdown":"mode: click",children:Object(g.jsx)("div",{className:"uk-dropdown-grid uk-child-width-1-1@m","uk-grid":"true",children:Object(g.jsx)("div",{children:Object(g.jsxs)("table",{className:"uk-table uk-table-divider uk-table-justify",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Title"}),Object(g.jsx)("th",{className:"uk-text-right",children:"Delete"})]})}),n.map((function(e){return Object(g.jsx)(T,{title:e.title,id:e.id,toggleFavorite:c},e.id)}))]})})})})]})})]})}function D(){var e=w(),t=e.currentPosts,c=e.toggleFavorite;return Object(g.jsxs)("main",{className:"uk-main",children:[Object(g.jsx)(F,{}),Object(g.jsx)("div",{className:"uk-section",children:Object(g.jsxs)("div",{className:"uk-container",children:[Object(g.jsx)("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-3@m",children:null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(C,{id:e.id,body:e.body,toggleFavorite:c,favorite:e.favorite},e.id)}))}),Object(g.jsx)(S,{}),Object(g.jsx)(P,{})]})})]})}var E=c(25);c(35);var A=function(e){var t=e.author,c=e.email,n=e.commentTitle;return Object(g.jsx)("div",{className:"uk-comments",children:Object(g.jsxs)("article",{className:"uk-comment",children:[Object(g.jsx)("header",{className:"uk-comment-header uk-grid uk-grid-medium uk-flex-middle",children:Object(g.jsxs)("div",{className:"uk-width-expand",children:[Object(g.jsx)("h4",{className:"uk-comment-title uk-margin-remove",children:Object(g.jsxs)("a",{className:"uk-link-reset",href:"#",children:["Author: ",t]})}),Object(g.jsx)("ul",{className:"uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top",children:Object(g.jsx)("li",{children:Object(g.jsxs)("a",{href:"#",children:["Email: ",c]})})})]})}),Object(g.jsx)("div",{className:"uk-comment-body",children:Object(g.jsx)("p",{children:n})})]})})};function q(e){var t=Object(n.useState)([]),c=Object(h.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),i=Object(h.a)(s,2),u=i[0],o=i[1],l=Object(n.useState)(""),j=Object(h.a)(l,2),v=j[0],k=j[1],x=Object(n.useState)(""),f=Object(h.a)(x,2),N=f[0],y=f[1];Object(n.useEffect)((function(){O().then((function(e){return r(e)}))}),[]),Object(n.useEffect)((function(){a.comment!==a.comment&&p(comment)}),[]);var w=function(){var e=Object(m.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.commentTitle.trim()&&t.email.trim()&&t.author.trim())){e.next=5;break}return e.next=3,p(t);case 3:c=e.sent,r([].concat(Object(E.a)(a),[c]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){13===e.charCode&&e.preventDefault()};return Object(g.jsxs)("main",{className:"uk-main",children:[Object(g.jsx)(F,{}),Object(g.jsx)("div",{className:"uk-section",children:Object(g.jsxs)("div",{className:"uk-container",children:[Object(g.jsxs)("h1",{className:"uk-heading-bullet uk-margin-medium-bottom",children:[Object(g.jsx)("span",{children:void 0===e.location.postTitle?Object(g.jsx)(d.a,{to:"/"}):e.location.postTitle}),Object(g.jsx)("a",{className:"uk-text-small",href:"#",children:" Author"})]}),Object(g.jsx)("div",{className:"uk-article uk-dropcap uk-margin-large-bottom",children:Object(g.jsxs)("p",{children:[void 0===e.location.postBody?Object(g.jsx)(d.a,{to:"/"}):e.location.postBody,"."]})}),Object(g.jsx)("hr",{}),Object(g.jsx)("h3",{className:"uk-margin-remove-top",children:"Comments:"}),null===a||void 0===a?void 0:a.map((function(e){return Object(g.jsx)(A,{id:e.id,author:e.author,email:e.email,commentTitle:e.commentTitle},e.id)})),Object(g.jsx)("hr",{}),Object(g.jsx)("form",{action:"#",className:"uk-comment-form uk-margin-medium-top",children:Object(g.jsxs)("fieldset",{className:"uk-fieldset",children:[Object(g.jsx)("legend",{className:"uk-legend",children:"Add Comment"}),Object(g.jsx)("div",{className:"uk-margin",children:Object(g.jsx)("input",{className:"uk-input",type:"text",placeholder:"Name",required:!0,value:u,onChange:function(e){return o(e.target.value)},onKeyPress:P})}),Object(g.jsx)("div",{className:"uk-margin",children:Object(g.jsx)("input",{className:"uk-input",type:"email",placeholder:"Email",required:!0,value:v,onChange:function(e){return k(e.target.value)},onKeyPress:P})}),Object(g.jsx)("div",{className:"uk-margin",children:Object(g.jsx)("textarea",{className:"uk-textarea",rows:"5",placeholder:"Comment",required:!0,value:N,onChange:function(e){return y(e.target.value)}})}),Object(g.jsx)("div",{className:"uk-margin",children:Object(g.jsx)("button",{className:"uk-button uk-button-primary",type:"submit",onClick:function(e){e.preventDefault(),w({id:Date.now(),author:u,email:v,commentTitle:N}),o(""),k(""),y("")},children:"Post Comment"})})]})})]})})]})}var B=function(e){var t=e.title,c=e.body,n=e.id;return Object(g.jsx)("div",{children:Object(g.jsxs)(l.b,{to:{pathname:"/Post/"+n,postTitle:t,postBody:c},className:"uk-card uk-card-default uk-margin-medium-bottom uk-child-width-1-2@s uk-grid-collapse uk-margin","uk-grid":"true",children:[Object(g.jsxs)("div",{className:"uk-card-media-left uk-cover-container",children:[Object(g.jsx)("img",{src:"https://picsum.photos/600/400",alt:"","uk-cover":"true"}),Object(g.jsx)("canvas",{width:"600",height:"400"})]}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"uk-card-body",children:[Object(g.jsx)("h3",{className:"uk-card-title",children:t}),Object(g.jsx)("p",{children:c})]})})]})})};function I(){var e=w(),t=e.getSortPostsRequest,c=e.setQuantityPosts,a=e.getSearchPostsRequest,r=Object(n.useState)(""),s=Object(h.a)(r,2),i=s[0],u=s[1],o=Object(n.useState)("asc"),d=Object(h.a)(o,2),j=d[0],b=d[1],m=location.pathname;return Object(g.jsxs)("div",{className:"uk-margin-medium-bottom uk-flex",children:[Object(g.jsxs)("form",{className:"uk-search uk-search-default uk-width-medium uk-margin-remove uk-margin-right",children:[Object(g.jsx)("span",{"uk-search-icon":"true"}),i.trim()&&Object(g.jsx)("span",{className:"uk-search-icon uk-search-icon-flip","uk-spinner":"ratio: 0.6"}),Object(g.jsx)("input",{value:i,onChange:function(e){e.preventDefault(),e.target.value.trim()?a(e.target.value):""===e.target.value&&t(j),u(e.target.value)},className:"uk-search-input",type:"search",placeholder:"Search..."})]}),Object(g.jsxs)("select",{className:"uk-select uk-width-small uk-margin-auto-left",onChange:function(e){t(e.target.value),b(e.target.value)},children:[Object(g.jsx)("option",{value:"asc",children:"ASC"}),Object(g.jsx)("option",{value:"desc",children:"DESC"})]}),Object(g.jsxs)("select",{className:"uk-select uk-width-small uk-margin-left",onChange:function(e){return c(e.target.value)},children:[Object(g.jsx)("option",{value:"6",children:"6"}),Object(g.jsx)("option",{value:"12",children:"12"}),Object(g.jsx)("option",{value:"24",children:"24"})]}),Object(g.jsxs)("div",{className:"uk-button-group uk-margin-left",children:[Object(g.jsx)(l.b,{to:"/",activeClassName:"/"===m?"uk-active":"",className:"uk-button uk-button-default",children:Object(g.jsx)("span",{"uk-icon":"icon:  grid"})}),Object(g.jsx)(l.b,{to:"/Posts",activeClassName:"/Posts"===m?"uk-active":"",className:"uk-button uk-button-default",children:Object(g.jsx)("span",{"uk-icon":"icon:  list"})})]})]})}function R(){var e=w().currentPosts;return Object(g.jsx)("main",{className:"uk-main",children:Object(g.jsx)("div",{className:"uk-section",children:Object(g.jsxs)("div",{className:"uk-container",children:[Object(g.jsx)(I,{}),Object(g.jsx)("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-2@m",children:null===e||void 0===e?void 0:e.map((function(e){return Object(g.jsx)(B,{title:e.title,id:e.id,body:e.body},e.id)}))}),Object(g.jsx)(P,{})]})})})}c(41);var J=function(e){var t=e.body,c=e.title,n=e.id,a=e.toggleFavorite,r=e.favorite;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"uk-card uk-card-default uk-margin-medium-bottom",children:[Object(g.jsx)("div",{className:"uk-card-header",children:Object(g.jsxs)("h3",{className:"uk-card-title uk-margin-remove-bottom uk-flex uk-flex-middle uk-flex-between",children:[c,Object(g.jsx)("a",{href:"/",className:!0===r?"uk-icon-link favorite-active":"uk-icon-link","uk-icon":"heart",onClick:function(e){e.preventDefault(),a(n)}})]})}),Object(g.jsx)("div",{className:"uk-card-body",children:Object(g.jsx)("p",{children:t})}),Object(g.jsx)("div",{className:"uk-card-footer",children:Object(g.jsx)(l.b,{to:{pathname:"/Post/"+n,postTitle:c,postBody:t},className:"uk-button uk-button-text",children:"Read more"})})]})})};function M(){var e=w(),t=e.currentPosts,c=e.toggleFavorite;return Object(g.jsxs)("main",{className:"uk-main",children:[Object(g.jsx)(F,{}),Object(g.jsx)("div",{className:"uk-section",children:Object(g.jsxs)("div",{className:"uk-container",children:[Object(g.jsx)(I,{}),Object(g.jsx)("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-3@m",children:null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(J,{title:e.title,id:e.id,body:e.body,toggleFavorite:c,favorite:e.favorite},e.id)}))}),Object(g.jsx)(S,{}),Object(g.jsx)(P,{})]})})]})}c(42);var Q=function(e){var t=e.body,c=e.title,n=e.id,a=e.toggleFavorite,r=e.favorite;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"uk-card uk-card-default uk-margin-medium-bottom uk-child-width-1-2@s uk-grid-collapse uk-margin","uk-grid":"true",children:[Object(g.jsxs)("div",{className:"uk-card-media-left uk-cover-container",children:[Object(g.jsx)("img",{src:"https://picsum.photos/600/400",alt:"","uk-cover":"true"}),Object(g.jsx)("canvas",{width:"600",height:"400"})]}),Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"uk-card-body",children:[Object(g.jsxs)("h3",{className:"uk-card-title uk-margin-remove-bottom uk-flex uk-flex-middle uk-flex-between",children:[c," ",Object(g.jsx)("a",{href:"/",className:!0===r?"uk-icon-link favorite-active":"uk-icon-link","uk-icon":"heart",onClick:function(e){e.preventDefault(),a(n)}})]}),Object(g.jsx)("p",{children:t}),Object(g.jsx)(l.b,{to:{pathname:"/Post/"+n,postTitle:c,postBody:t},className:"uk-button uk-button-text",children:"Read more"})]})})]})})};function _(){var e=w(),t=e.currentPosts,c=e.toggleFavorite;return Object(g.jsxs)("main",{className:"uk-main",children:[Object(g.jsx)(F,{}),Object(g.jsx)("div",{className:"uk-section",children:Object(g.jsxs)("div",{className:"uk-container",children:[Object(g.jsx)(I,{}),Object(g.jsx)("div",{className:"uk-grid uk-child-width-1-2@s uk-child-width-1-2@m",children:null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsx)(Q,{title:e.title,id:e.id,body:e.body,toggleFavorite:c,favorite:e.favorite},e.id)}))}),Object(g.jsx)(S,{}),Object(g.jsx)(P,{})]})})]})}function K(){return Object(g.jsx)(y,{children:Object(g.jsx)(l.a,{children:Object(g.jsxs)(d.d,{children:[Object(g.jsx)(d.b,{exact:!0,path:"/",component:_}),Object(g.jsx)(d.b,{exact:!0,path:"/Postsgrid",component:M}),Object(g.jsx)(d.b,{exact:!0,path:"/Albums",component:D}),Object(g.jsx)(d.b,{exact:!0,path:"/Posts",component:R}),Object(g.jsx)(d.b,{exact:!0,path:"/Post/:id",component:q})]})})})}i.a.use(o.a),i.a.use(o.a);var G=document.getElementById("root");r.a.render(Object(g.jsx)(n.StrictMode,{children:Object(g.jsx)(K,{})}),G)}},[[43,1,2]]]);
//# sourceMappingURL=main.457bdc44.chunk.js.map